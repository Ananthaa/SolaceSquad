{% extends "base.html" %}

{% block content %}
<!-- Top Bar -->
<header class="fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 h-16">
    <div class="flex items-center justify-between h-full px-4">
        <!-- Logo & Mobile Menu -->
        <div class="flex items-center gap-4">
            <button onclick="toggleSidebar()" class="lg:hidden p-2 hover:bg-gray-100 rounded-lg">
                <i data-lucide="menu" class="w-5 h-5"></i>
            </button>

            <a href="/" class="flex items-center gap-2">
                <img src="/static/images/logo.png" alt="SolaceSquad" class="h-10 w-auto">
            </a>
        </div>

        <!-- User Menu -->
        <div class="flex items-center gap-4">
            <div class="text-right hidden sm:block">
                <div class="text-sm font-medium text-gray-900">{{ user_name }}</div>
                <div class="text-xs text-gray-500 capitalize">{{ user_type }} Account</div>
            </div>
            <div
                class="w-10 h-10 bg-gradient-to-br from-primary-400 to-secondary-400 rounded-full flex items-center justify-center text-white font-semibold">
                {{ user_initials }}
            </div>
        </div>
    </div>
</header>

<!-- Sidebar -->
<aside id="sidebar"
    class="sidebar fixed top-16 left-0 bottom-0 w-64 bg-white border-r border-gray-200 z-30 lg:translate-x-0">
    <nav class="p-4 space-y-1">
        {% for item in nav_items %}
        <a href="{{ item.href }}"
            class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors {% if active_page == item.key %}bg-primary-50 text-primary-700 font-medium{% else %}text-gray-700 hover:bg-gray-100{% endif %}">
            <i data-lucide="{{ item.icon }}" class="w-5 h-5"></i>
            <span>{{ item.label }}</span>
        </a>
        {% endfor %}

        <div class="pt-4 mt-4 border-t border-gray-200 space-y-1">
            <a href="/settings"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                <i data-lucide="settings" class="w-5 h-5"></i>
                <span>Settings</span>
            </a>

            <a href="/login"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors">
                <i data-lucide="log-out" class="w-5 h-5"></i>
                <span>Logout</span>
            </a>
        </div>
    </nav>
</aside>

<!-- Main Content -->
<main class="lg:ml-64 pt-16 min-h-screen">
    <div class="p-6">
        {% block dashboard_content %}{% endblock %}
    </div>
</main>

<!-- Mobile Sidebar Overlay -->
<div id="sidebar-overlay" onclick="closeSidebar()" class="fixed inset-0 bg-black/50 z-20 lg:hidden hidden"></div>

<script src="{{ url_for('static', path='/js/main.js') }}"></script>
{% endblock %}